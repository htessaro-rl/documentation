---
id: use-olap-interface
title: Can the OLAP Interface be used for data which has both a time and date field in the cube?
slug: /faq/use-olap-interface
description: ''
tags: []
---

import table from '@site/static/data/tables/setup-adm/automation/keywords/group.json';
import JsonToTable from '@site/src/components/Table/JsonToTable';

Yes, the OLAP interface supports cubes with date only or with date and time dimensions. Since all cubes are different, you will need to write a query that uses the correct dimension names, but the pattern is the same.

## Date only Cubes

For cubes with date only, use the following keywords in your queries:

- `STARTDATE`
- `ENDDATE`
- `TIMESTAMP`

## Cubes with time as dimension

For cubes that include time as a dimension, you'll use the new reserved keyword extensions:

- **StartDate**
    - `{STARTDATE}`
    - `{STARTDATE.Date}`
    - `{STARTDATE.Time}`

- **EndDate**
    - `{ENDDATE}`
    - `{ENDDATE.Date}`
    - `{ENDDATE.Time}`

- **TimeStamp**
    - `{TIMESTAMP}`
    - `{TIMESTAMP.Date}`
    - `{TIMESTAMP.Time}`

:::note
If you have existing queries with both Date format and Time format, you will need to modify the trend queries to use `{STARTDATE.Date}` and `{ENDDATE.Date}`.
:::

### Example Queries

Below are some example queries that incorporate the new keywords. Note the use of the keywords in each example. For this example:
- **Input `{0}`**: KPI Name
- **Input `{1}`**: KPI Aggregation Type

#### Current Value query

The Current Value query requires nothing special as the *TAIL* function handles it.

```sql
SELECT [Measures].[{1}] ON COLUMNS,
{TAIL(NONEMPTY([Date].[Date].Members*
[Time].[Time].[Time].ALLMEMBERS))} ON ROWS
FROM [CubeName]
WHERE ([KPI].[KPI].[{0}], [Time Zone].[Time Zone].[(UTC) Coordinated Universal Time]);
```

#### Trend Data Query

The Trend Data query retrieves all data for each day on both ends of the query, then discards the unused portions of the days.

```sql
SELECT {[Measures].[{1}]} ON COLUMNS,
NONEMPTY{[Date].[Date].[{STARTDATE.Date}]:[Date].[Date].[{ENDDATE.Date}] *
[Time].[Time].[Time].ALLMEMBERS} ON ROWS
FROM [CubeName]
WHERE ([KPI].[KPI].[{0}], [Time Zone].[Time Zone].[(UTC) Coordinated Universal Time]);
```

#### Historical Value Query

The Historical Value query uses the *.Time* keyword.

```sql
SELECT [Measures].[{1}] ON COLUMNS,
TAIL(NONEMPTY([Date].[Date].FirstChild:[Date].[Date].[{TIMESTAMP.Date}] * [Time].[Time].FirstChild:[Time].[Time].[{TIMESTAMP.Time}])) ON ROWS
FROM [CubeName]
WHERE ([KPI].[KPI].[{0}], [Time Zone].[Time Zone].[(UTC) Coordinated Universal Time]);
```

### How OLAP queries work

The table below shows details for how these OLAP queries work. (STARTDATE, ENDATE & TIMESTAMP behave the same way.) Given the following data:  
- **Input date**: 12/25/2016 1:00:00 PM
- **Default Date Format**: yyyy-MM-dd
- **Default Time Format**: HH:mm

<table>
  <thead>
    <tr>
      <th width="208">Date Format</th>
      <th width="208">Time Format</th>
      <th width="376">Result for TIMESTAMP</th>
      <th width="276">Result for TIMESTAMP.Date</th>
      <th width="402">Result for TIMESTAMP.Time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td width="208">NONE</td>
      <td width="208">NONE</td>
      <td width="376">2016-12-25 13:00<p>Note: uses default Date & Time format</p></td>
      <td width="276">2016-12-25<p>Note: uses default Date format</p></td>
      <td width="402"><span data-term="goog_535453483">13:00</span><p>Note: uses default Time format</p></td>
    </tr>
    <tr>
      <td width="208">NONE</td>
      <td width="208">HH:mm</td>
      <td width="376">2016-12-25 13:00<p>Note: uses default Date format & User Defined Time format</p></td>
      <td width="276">2016-12-25<p>Note: uses default Date format</p></td>
      <td width="402"><span data-term="goog_535453484">13:00</span><p>Note: uses User Defined Time format</p></td>
    </tr>
    <tr>
      <td width="208">yyyy-MM-dd</td>
      <td width="208">NONE</td>
      <td width="376">2016-12-25<p>Note: uses default Date format ONLY</p></td>
      <td width="276">2016-12-25<p>Note: uses default Date format</p></td>
      <td width="402">INVALID</td>
    </tr>
    <tr>
      <td width="208">yyyy-MM-dd</td>
      <td width="208">HH:mm</td>
      <td width="376">2016-12-25 13:00<p>Note: uses User Defined Date & Time format</p></td>
      <td width="276">2016-12-25<p>Note: uses User Defined Date format</p></td>
      <td width="402"><span data-term="goog_535453485">13:00</span><p>Note: uses User Defined Time format</p></td>
    </tr>
  </tbody>
</table>
